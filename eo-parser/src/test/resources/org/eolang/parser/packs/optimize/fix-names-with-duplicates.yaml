xsls:
  - /org/eolang/parser/optimize/remove-refs.xsl
  - /org/eolang/parser/optimize/abstracts-float-up.xsl
  - /org/eolang/parser/optimize/remove-levels.xsl
  - /org/eolang/parser/add-refs.xsl
  - /org/eolang/parser/optimize/fix-missed-names.xsl
# @todo #1807:60min Enable fix-name tests.
#  The logic needs to be implemented to correctly handle same-name
#  attributes: objects should reference different corresponding bases.
#  The below test cases should pass.
skip: true
tests:
  - //objects[count(.//o[@base='hello$t1$t2$t2$t1$a0$build'])=1]
  - //objects[count(.//o[@base='hello$t1$t2$t2$t1$a1$build'])=1]
eo: |
  [] > hello
    [f s] > calc
      plus. > @
        f.next
        s.next
  
    seq > @
      QQ.io.stdout
        QQ.txt.sprintf
          "Result is %d\n"
          calc
            []
              [x] > build
                x.plus 1 > @
                build (@.plus 1) > next
              build 1 > @
            []
              [y] > build
                y.plus 2 > @
                build (@.plus 2) > next
              build 2 > @
      TRUE
